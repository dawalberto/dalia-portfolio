---
import { CONFIG } from "@/config"
import { NAV_LINKS } from "../DesktopNav.astro"
import Icon from "../Icon.astro"

const projectsHref = new Map(
  NAV_LINKS.filter((link) => link.href === `${CONFIG.base}/projects`).flatMap((projects) =>
    (projects?.children || []).map((project) => [project.label, project.href])
  )
)

const projects = [
  {
    title: "Cipher (Prosegur)",
    href: projectsHref.get("Cipher"),
    role: "Product Designer",
    year: "2023 - 2025",
    description:
      "Rediseño integral de la plataforma, diseñando el design system desde cero, definiendo arquitectura de información y flujos, implementando testeo con usuarios y optimizando la colaboración del equipo de diseño.",
  },
  {
    title: "FAS Federación Artesanal de Sevilla",
    href: projectsHref.get("Fas"),
    role: "UX/UI Designer",
    year: "2023",
    description:
      "Rediseñé la web de la federación con una arquitectura de información clara y usabilidad refinada, y llevé sus redes sociales, conectando la artesanía sevillana con usuario y comunidad digital con creatividad y consistencia social.",
  },
  {
    title: "Talento Mobile - Carrefour",
    href: projectsHref.get("Carrefour"),
    role: "UX/UI Designer",
    year: "2022 - 2023",
    description:
      "Apliqué la arquitectura de información a web, app y responsive, creación wireframes, prototipado de interacciones, y elaboración de un sistema de diseño cohesivo.",
  },
  {
    title: "Eunoia Digital - Banc Sabadell",
    href: projectsHref.get("Banc Sabadell"),
    role: "UX Designer",
    year: "2021 - 2022",
    description:
      "Rediseño integral de la plataforma, diseñando el design system desde cero, definiendo arquitectura de información y flujos, implementando testeo con usuarios y optimizando la colaboración del equipo de diseño.",
  },
  {
    title: "Freelance",
    href: projectsHref.get("Freelance"),
    role: "UX/UI Designer",
    year: "2021 - 2022",
    description:
      "Investigación profunda (benchmark, netnografía, encuestas, entrevistas, user persona…), metodologías ágiles (Design Thinking, Lean), testeo (Maze, Userzoom), y prototipado multiplataforma con sistemas de estilo UI.",
  },
]
---

<section>
  <div class="flex flex-col sm:flex-row gap-y-4 justify-between">
    <h1 class="sm:w-3/5 font-roboto sm:leading-14 text-xl sm:text-4xl font-bold text-main-0">
      Mi Viaje Creativo: Una Instantánea de Evolución y Aprendizaje
    </h1>
    <p
      class="sm:max-w-lg self-end font-roboto-condensed text-sm sm:text-base text-[#7E7E7E] leading-7"
    >
      Una selección de mis proyectos clave que reflejan mi evolución como diseñadora, mostrando como
      mis ideas maduraron a través de pruebas, iteraciones y enfoque centrado en el usuario
    </p>
  </div>
  <div class="flex flex-col gap-4 mt-10 w-full">
    {
      projects.map((project) => (
        <a
          href={project.href}
          class="project rounded-xs relative sm:min-h-40 group p-8 bg-[#F9F9F9] flex w-full justify-between cursor-pointer hover:shadow-md transform transition duration-300"
        >
          <div>
            <span class="absolute top-5 right-5 block sm:hidden animate-pulse">
              <Icon icon="arrow-square-in" />
            </span>
            <h2 class="font-roboto font-bold text-base sm:text-2xl group-hover:opacity-40 transform transition duration-300">
              <span class="text-main-17">{project.title}</span>
              <span class="text-main-0"> - {project.role}</span>
            </h2>
            <h3 class="block sm:hidden font-roboto font-bold text-sm text-[#7E7E7E]">
              {project.year}
            </h3>
            <p class="font-roboto mt-2 sm:mt-3 text-sm sm:max-w-4/5 sm:text-base sm:font-medium leading-6 text-main-17 group-hover:opacity-10 transform transition duration-300">
              {project.description}
            </p>
          </div>
          <h3 class="hidden sm:flex items-center w-fit text-nowrap font-roboto font-bold text-3xl text-[#7E7E7E] group-hover:opacity-10 transform transition duration-300">
            {project.year}
          </h3>
          <div class="wave hidden sm:block">
            <div class="absolute bottom-2 left-1/2 -translate-x-1/2 font-roboto-condensed text-xl flex gap-2 items-center text-white">
              <span>Sumérgete en el proyecto</span>
              <Icon icon="arrow-square-in" />
            </div>
          </div>
        </a>
      ))
    }
  </div>
</section>

<style>
  .project {
    cursor: pointer;
    position: relative;
    overflow: hidden;
    transition: 0.3s;
  }
  .wave {
    position: absolute;
    width: 100%;
    height: 50%;
    background: url(../../assets/images/wave.svg);
    background-size: 200% 100%;
    top: 100%;
    left: 0;
    animation: wave 3s linear infinite;
    transition: 0.5s;
  }
  @keyframes wave {
    from {
      background-position-x: 0;
    }
    to {
      background-position-x: 200%;
    }
  }
  .project:hover .wave {
    top: 50%;
  }
</style>
